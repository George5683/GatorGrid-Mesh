<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GatorGrid: APNode Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">GatorGrid
   </div>
   <div id="projectbrief">A mesh network implemented on the Raspberry Pi Pico</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_a_p_node-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">APNode Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_mesh_node_8hpp_source.html">MeshNode.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for APNode:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_p_node__inherit__graph.png" border="0" usemap="#a_a_p_node_inherit__map" alt="Inheritance graph"/></div>
<map name="a_a_p_node_inherit__map" id="a_a_p_node_inherit__map">
<area shape="rect" title=" " alt="" coords="5,208,166,875"/>
<area shape="rect" href="class_mesh_node.html" title=" " alt="" coords="34,5,137,160"/>
<area shape="poly" title=" " alt="" coords="88,175,88,208,83,208,83,175"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for APNode:</div>
<div class="dyncontent">
<div class="center"><img src="class_a_p_node__coll__graph.png" border="0" usemap="#a_a_p_node_coll__map" alt="Collaboration graph"/></div>
<map name="a_a_p_node_coll__map" id="a_a_p_node_coll__map">
<area shape="rect" title=" " alt="" coords="566,891,727,1387"/>
<area shape="rect" href="class_mesh_node.html" title=" " alt="" coords="5,619,108,773"/>
<area shape="poly" title=" " alt="" coords="94,785,122,825,173,875,229,921,289,963,350,1000,468,1062,567,1105,565,1110,466,1066,347,1005,286,967,226,925,169,879,117,828,89,788"/>
<area shape="rect" href="struct_t_c_p___s_e_r_v_e_r___t__.html" title=" " alt="" coords="132,565,254,827"/>
<area shape="poly" title=" " alt="" coords="226,825,249,865,281,903,317,939,396,1002,477,1054,552,1093,549,1098,475,1058,393,1007,313,943,277,907,244,868,221,828"/>
<area shape="rect" href="struct__dhcp__server__t.html" title=" " alt="" coords="150,336,249,448"/>
<area shape="poly" title=" " alt="" coords="192,448,190,472,187,549,182,548,185,472,187,448"/>
<area shape="rect" href="struct__dhcp__server__lease__t.html" title=" " alt="" coords="131,160,268,251"/>
<area shape="poly" title=" " alt="" coords="202,250,202,319,197,319,197,250"/>
<area shape="rect" href="structdns__server__t__.html" title=" " alt="" coords="33,347,126,437"/>
<area shape="poly" title=" " alt="" coords="84,437,91,487,106,540,114,552,123,564,125,567,121,570,119,567,109,555,101,542,86,488,79,437"/>
<area shape="rect" href="class_ring_buffer.html" title=" " alt="" coords="413,608,565,784"/>
<area shape="poly" title=" " alt="" coords="522,783,562,895,557,897,517,785"/>
<area shape="rect" title=" " alt="" coords="430,349,548,435"/>
<area shape="poly" title=" " alt="" coords="492,435,492,591,486,591,486,435"/>
<area shape="rect" href="structdata.html" title=" " alt="" coords="527,139,590,272"/>
<area shape="poly" title=" " alt="" coords="546,272,533,313,523,335,518,333,528,311,541,271"/>
<area shape="rect" title=" " alt="" coords="386,171,490,240"/>
<area shape="poly" title=" " alt="" coords="436,255,437,283,443,311,460,348,455,351,438,313,432,284,431,255"/>
<area shape="rect" title=" " alt="" coords="283,472,412,541"/>
<area shape="poly" title=" " alt="" coords="399,253,373,297,359,343,352,390,348,472,343,472,346,390,354,342,368,295,395,250"/>
<area shape="rect" title=" " alt="" coords="621,5,640,75"/>
<area shape="poly" title=" " alt="" coords="623,51,516,141,491,162,488,158,512,137,619,47"/>
<area shape="rect" title=" " alt="" coords="767,357,877,427"/>
<area shape="poly" title=" " alt="" coords="640,42,669,52,709,72,751,100,770,117,786,137,810,187,823,242,828,294,829,340,823,340,823,295,818,243,805,189,781,140,766,121,748,104,707,76,667,57,638,47"/>
<area shape="rect" href="class_children_tree.html" title=" " alt="" coords="1030,576,1158,816"/>
<area shape="poly" title=" " alt="" coords="1033,813,1020,828,953,900,880,966,808,1026,742,1075,739,1071,804,1021,877,962,949,896,1016,825,1028,809"/>
<area shape="rect" href="struct_children_tree_1_1_node.html" title=" " alt="" coords="1027,336,1164,448"/>
<area shape="poly" title=" " alt="" coords="1098,448,1097,559,1092,559,1093,448"/>
<area shape="poly" title=" " alt="" coords="1164,374,1183,379,1191,392,1188,400,1182,405,1179,401,1184,397,1185,392,1180,383,1163,379"/>
<area shape="rect" href="class_s_p_i.html" title=" " alt="" coords="1183,608,1347,784"/>
<area shape="poly" title=" " alt="" coords="1211,786,1172,829,1120,873,1065,914,950,989,838,1050,743,1098,741,1093,836,1046,947,984,1062,910,1117,868,1168,825,1207,782"/>
<area shape="poly" title=" " alt="" coords="330,542,321,566,304,639,294,699,294,727,298,756,321,826,341,865,366,903,425,972,490,1030,553,1077,550,1082,487,1034,421,976,362,906,337,868,316,828,293,757,289,727,289,698,299,638,316,565,325,540"/>
<area shape="rect" title=" " alt="" coords="589,653,703,739"/>
<area shape="poly" title=" " alt="" coords="649,738,649,873,644,873,644,738"/>
<area shape="rect" title=" " alt="" coords="605,357,674,427"/>
<area shape="poly" title=" " alt="" coords="615,428,601,449,592,473,586,515,591,559,602,600,617,637,612,639,597,602,585,560,581,515,587,471,597,447,610,425"/>
<area shape="rect" title=" " alt="" coords="614,163,729,248"/>
<area shape="poly" title=" " alt="" coords="664,263,648,358,643,357,659,263"/>
<area shape="poly" title=" " alt="" coords="756,425,724,446,698,474,674,518,660,566,652,613,649,654,643,653,646,612,654,565,669,516,693,470,720,442,753,420"/>
<area shape="rect" title=" " alt="" coords="727,651,859,741"/>
<area shape="poly" title=" " alt="" coords="820,442,800,651,794,650,815,441"/>
<area shape="rect" title=" " alt="" coords="883,643,1007,749"/>
<area shape="poly" title=" " alt="" coords="872,436,896,471,915,514,929,560,943,643,938,643,923,561,910,516,892,473,867,439"/>
<area shape="rect" title=" " alt="" coords="752,171,772,240"/>
<area shape="poly" title=" " alt="" coords="760,240,760,275,766,311,782,342,778,345,761,313,754,275,755,240"/>
<area shape="poly" title=" " alt="" coords="782,742,743,867,735,894,730,892,738,866,777,740"/>
<area shape="poly" title=" " alt="" coords="928,750,902,808,870,868,807,958,740,1040,736,1036,802,955,865,865,897,806,923,748"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a7520e149cbd1fe92ec81254f60e77254" id="r_a7520e149cbd1fe92ec81254f60e77254"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode</a> ()</td></tr>
<tr class="separator:a7520e149cbd1fe92ec81254f60e77254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec0310fe551a62bbcefba9693f76aab9" id="r_aec0310fe551a62bbcefba9693f76aab9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode</a> (uint32_t id)</td></tr>
<tr class="separator:aec0310fe551a62bbcefba9693f76aab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a655e0cf00805452b7a8c498b18a0514e" id="r_a655e0cf00805452b7a8c498b18a0514e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a655e0cf00805452b7a8c498b18a0514e">~APNode</a> ()</td></tr>
<tr class="separator:a655e0cf00805452b7a8c498b18a0514e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d893cc18ed0b777328f2206b5e2219" id="r_a18d893cc18ed0b777328f2206b5e2219"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a18d893cc18ed0b777328f2206b5e2219">init_ap_mode</a> ()</td></tr>
<tr class="separator:a18d893cc18ed0b777328f2206b5e2219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0baffab88dae0ef512726601ee2de82c" id="r_a0baffab88dae0ef512726601ee2de82c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0baffab88dae0ef512726601ee2de82c">start_ap_mode</a> ()</td></tr>
<tr class="separator:a0baffab88dae0ef512726601ee2de82c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1b86fff1bbfe9baef8704c09fa08b4" id="r_a2d1b86fff1bbfe9baef8704c09fa08b4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2d1b86fff1bbfe9baef8704c09fa08b4">stop_ap_mode</a> ()</td></tr>
<tr class="separator:a2d1b86fff1bbfe9baef8704c09fa08b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb770e3913b5027d76771517446dcce0" id="r_aeb770e3913b5027d76771517446dcce0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeb770e3913b5027d76771517446dcce0">poll</a> (unsigned int timeout_ms=1000)</td></tr>
<tr class="separator:aeb770e3913b5027d76771517446dcce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a14af1710426ee6a9d097cd8c28f87f" id="r_a1a14af1710426ee6a9d097cd8c28f87f"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1a14af1710426ee6a9d097cd8c28f87f">get_client_data</a> (int ID)</td></tr>
<tr class="separator:a1a14af1710426ee6a9d097cd8c28f87f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1c02af9da183625721288410c565f66" id="r_af1c02af9da183625721288410c565f66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1c02af9da183625721288410c565f66">has_client_data</a> (int ID)</td></tr>
<tr class="separator:af1c02af9da183625721288410c565f66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac150d8ef94717187c4196be4032146dd" id="r_ac150d8ef94717187c4196be4032146dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac150d8ef94717187c4196be4032146dd">check_all_client_data</a> ()</td></tr>
<tr class="separator:ac150d8ef94717187c4196be4032146dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8e48a111bea8c9f01f592892256ec0f" id="r_ac8e48a111bea8c9f01f592892256ec0f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8e48a111bea8c9f01f592892256ec0f">set_ap_credentials</a> (char name[32], const char *pwd)</td></tr>
<tr class="separator:ac8e48a111bea8c9f01f592892256ec0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a901319e21366b2ce2bf8ac779a2bf71d" id="r_a901319e21366b2ce2bf8ac779a2bf71d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a901319e21366b2ce2bf8ac779a2bf71d">get_node_id</a> ()</td></tr>
<tr class="separator:a901319e21366b2ce2bf8ac779a2bf71d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a41cb6892721ffd8543d5bef39150e" id="r_ab5a41cb6892721ffd8543d5bef39150e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab5a41cb6892721ffd8543d5bef39150e">set_node_id</a> (int ID)</td></tr>
<tr class="separator:ab5a41cb6892721ffd8543d5bef39150e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a818d713e7937e58df4a0aa1366e63da0" id="r_a818d713e7937e58df4a0aa1366e63da0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a818d713e7937e58df4a0aa1366e63da0">server_start</a> ()</td></tr>
<tr class="separator:a818d713e7937e58df4a0aa1366e63da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa02e0b6dcbc9a8f06c769c4277f30482" id="r_aa02e0b6dcbc9a8f06c769c4277f30482"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa02e0b6dcbc9a8f06c769c4277f30482">server_running</a> ()</td></tr>
<tr class="separator:aa02e0b6dcbc9a8f06c769c4277f30482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eb8b7163387b293008b3903cc651c90" id="r_a1eb8b7163387b293008b3903cc651c90"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1eb8b7163387b293008b3903cc651c90">number_of_messages</a> ()</td></tr>
<tr class="separator:a1eb8b7163387b293008b3903cc651c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33de1a7fccff55203c1f2b92a7fe24e4" id="r_a33de1a7fccff55203c1f2b92a7fe24e4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33de1a7fccff55203c1f2b92a7fe24e4">send_tcp_data</a> (uint32_t id, tcp_pcb *client_pcb, uint8_t *<a class="el" href="structdata.html">data</a>, uint32_t size)</td></tr>
<tr class="separator:a33de1a7fccff55203c1f2b92a7fe24e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42fd14dc2a5b4dd37f3675e8db6be39b" id="r_a42fd14dc2a5b4dd37f3675e8db6be39b"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structdata.html">data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42fd14dc2a5b4dd37f3675e8db6be39b">digest_data</a> ()</td></tr>
<tr class="separator:a42fd14dc2a5b4dd37f3675e8db6be39b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d69a5b41d1614d64735de23ac6d6b1" id="r_a83d69a5b41d1614d64735de23ac6d6b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83d69a5b41d1614d64735de23ac6d6b1">handle_incoming_data</a> (unsigned char *buffer, tcp_pcb *tpcb, struct pbuf *p)</td></tr>
<tr class="separator:a83d69a5b41d1614d64735de23ac6d6b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_mesh_node"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_methods_class_mesh_node')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_mesh_node.html">MeshNode</a></td></tr>
<tr class="memitem:ab525cdafcb942a4c79eb517b7ef0f5c7 inherit pub_methods_class_mesh_node" id="r_ab525cdafcb942a4c79eb517b7ef0f5c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mesh_node.html#ab525cdafcb942a4c79eb517b7ef0f5c7">MeshNode</a> ()</td></tr>
<tr class="separator:ab525cdafcb942a4c79eb517b7ef0f5c7 inherit pub_methods_class_mesh_node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8b858b11632dc9827b3ffa1cdc8c9b inherit pub_methods_class_mesh_node" id="r_abf8b858b11632dc9827b3ffa1cdc8c9b"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mesh_node.html#abf8b858b11632dc9827b3ffa1cdc8c9b">~MeshNode</a> ()</td></tr>
<tr class="separator:abf8b858b11632dc9827b3ffa1cdc8c9b inherit pub_methods_class_mesh_node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af666a6d82e48cbff383d10e93dde8719 inherit pub_methods_class_mesh_node" id="r_af666a6d82e48cbff383d10e93dde8719"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mesh_node.html#af666a6d82e48cbff383d10e93dde8719">set_NodeID</a> (uint32_t ID)</td></tr>
<tr class="separator:af666a6d82e48cbff383d10e93dde8719 inherit pub_methods_class_mesh_node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc8f29a44d7baf4a56ca6f20cec861e8 inherit pub_methods_class_mesh_node" id="r_adc8f29a44d7baf4a56ca6f20cec861e8"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a> ()</td></tr>
<tr class="separator:adc8f29a44d7baf4a56ca6f20cec861e8 inherit pub_methods_class_mesh_node"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f289f39af779b21b1918e1da6f352e inherit pub_methods_class_mesh_node" id="r_a38f289f39af779b21b1918e1da6f352e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_mesh_node.html#a38f289f39af779b21b1918e1da6f352e">seed_rand</a> ()</td></tr>
<tr class="separator:a38f289f39af779b21b1918e1da6f352e inherit pub_methods_class_mesh_node"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a88f8012cf5851db724dcef1322829bac" id="r_a88f8012cf5851db724dcef1322829bac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_mesh_node_8hpp.html#af7f4e975a84bf5ac14987f38c5a0bd49">TCP_SERVER_T</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a></td></tr>
<tr class="separator:a88f8012cf5851db724dcef1322829bac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a121221cf5fdde7e45b87e81e3ede857d" id="r_a121221cf5fdde7e45b87e81e3ede857d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a></td></tr>
<tr class="separator:a121221cf5fdde7e45b87e81e3ede857d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1f2d4fd7748e6020201e0305bbe793b" id="r_ad1f2d4fd7748e6020201e0305bbe793b"><td class="memItemLeft" align="right" valign="top">char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a> [32]</td></tr>
<tr class="separator:ad1f2d4fd7748e6020201e0305bbe793b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af24f7284d8a7f02f73b98e20a0ce69d2" id="r_af24f7284d8a7f02f73b98e20a0ce69d2"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a> = &quot;password&quot;</td></tr>
<tr class="separator:af24f7284d8a7f02f73b98e20a0ce69d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a4d88449c2a5ab205ab8eff9d73cec" id="r_a76a4d88449c2a5ab205ab8eff9d73cec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_ring_buffer.html">RingBuffer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a></td></tr>
<tr class="separator:a76a4d88449c2a5ab205ab8eff9d73cec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b37eb7479f4f685ac096b8d16a75b2" id="r_ac9b37eb7479f4f685ac096b8d16a75b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_children_tree.html">ChildrenTree</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac9b37eb7479f4f685ac096b8d16a75b2">tree</a></td></tr>
<tr class="separator:ac9b37eb7479f4f685ac096b8d16a75b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f42f6bd11523a7d53d337d84766808" id="r_a33f42f6bd11523a7d53d337d84766808"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_s_p_i.html">SPI</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a></td></tr>
<tr class="separator:a33f42f6bd11523a7d53d337d84766808"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35f6712389c12ce194a03bc77b8ba4d7" id="r_a35f6712389c12ce194a03bc77b8ba4d7"><td class="memItemLeft" align="right" valign="top">std::vector&lt; void * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35f6712389c12ce194a03bc77b8ba4d7">connections</a></td></tr>
<tr class="separator:a35f6712389c12ce194a03bc77b8ba4d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a643de62b25972c425e1e1928964dae90" id="r_a643de62b25972c425e1e1928964dae90"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a643de62b25972c425e1e1928964dae90">client_results</a></td></tr>
<tr class="separator:a643de62b25972c425e1e1928964dae90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf36c3de2719acd75a1db2406c615bf" id="r_a1bf36c3de2719acd75a1db2406c615bf"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1bf36c3de2719acd75a1db2406c615bf">client_results_flag</a></td></tr>
<tr class="separator:a1bf36c3de2719acd75a1db2406c615bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1010007862435c32e7b1d207225333c" id="r_aa1010007862435c32e7b1d207225333c"><td class="memItemLeft" align="right" valign="top">std::map&lt; uint32_t, tcp_pcb * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1010007862435c32e7b1d207225333c">client_tpcbs</a></td></tr>
<tr class="separator:aa1010007862435c32e7b1d207225333c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a7520e149cbd1fe92ec81254f60e77254" name="a7520e149cbd1fe92ec81254f60e77254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7520e149cbd1fe92ec81254f60e77254">&#9670;&#160;</a></span>APNode() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APNode::APNode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  374</span>               : <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>(<span class="keyword">nullptr</span>), <a class="code hl_variable" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>(<span class="keyword">false</span>), <a class="code hl_variable" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a>(<span class="stringliteral">&quot;password&quot;</span>), <a class="code hl_variable" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>(10), <a class="code hl_variable" href="#ac9b37eb7479f4f685ac096b8d16a75b2">tree</a>(<a class="code hl_function" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a>()), <a class="code hl_variable" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>()  {</div>
<div class="line"><span class="lineno">  375</span>    snprintf(<a class="code hl_variable" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>), <span class="stringliteral">&quot;GatorGrid_Node:%08X&quot;</span>, <a class="code hl_function" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a>());</div>
<div class="line"><span class="lineno">  376</span>    <a class="code hl_variable" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>.SPI_init(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  377</span>}</div>
<div class="ttc" id="aclass_a_p_node_html_a121221cf5fdde7e45b87e81e3ede857d"><div class="ttname"><a href="#a121221cf5fdde7e45b87e81e3ede857d">APNode::running</a></div><div class="ttdeci">bool running</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:67</div></div>
<div class="ttc" id="aclass_a_p_node_html_a33f42f6bd11523a7d53d337d84766808"><div class="ttname"><a href="#a33f42f6bd11523a7d53d337d84766808">APNode::Master_Pico</a></div><div class="ttdeci">SPI Master_Pico</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:74</div></div>
<div class="ttc" id="aclass_a_p_node_html_a76a4d88449c2a5ab205ab8eff9d73cec"><div class="ttname"><a href="#a76a4d88449c2a5ab205ab8eff9d73cec">APNode::rb</a></div><div class="ttdeci">RingBuffer rb</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:71</div></div>
<div class="ttc" id="aclass_a_p_node_html_a88f8012cf5851db724dcef1322829bac"><div class="ttname"><a href="#a88f8012cf5851db724dcef1322829bac">APNode::state</a></div><div class="ttdeci">TCP_SERVER_T * state</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:66</div></div>
<div class="ttc" id="aclass_a_p_node_html_ac9b37eb7479f4f685ac096b8d16a75b2"><div class="ttname"><a href="#ac9b37eb7479f4f685ac096b8d16a75b2">APNode::tree</a></div><div class="ttdeci">ChildrenTree tree</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:72</div></div>
<div class="ttc" id="aclass_a_p_node_html_ad1f2d4fd7748e6020201e0305bbe793b"><div class="ttname"><a href="#ad1f2d4fd7748e6020201e0305bbe793b">APNode::ap_name</a></div><div class="ttdeci">char ap_name[32]</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:68</div></div>
<div class="ttc" id="aclass_a_p_node_html_af24f7284d8a7f02f73b98e20a0ce69d2"><div class="ttname"><a href="#af24f7284d8a7f02f73b98e20a0ce69d2">APNode::password</a></div><div class="ttdeci">const char * password</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:69</div></div>
<div class="ttc" id="aclass_mesh_node_html_adc8f29a44d7baf4a56ca6f20cec861e8"><div class="ttname"><a href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">MeshNode::get_NodeID</a></div><div class="ttdeci">uint32_t get_NodeID()</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:412</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, <a class="el" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">MeshNode::get_NodeID()</a>, <a class="el" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>, <a class="el" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a>, <a class="el" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>, <a class="el" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>, <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>, and <a class="el" href="#ac9b37eb7479f4f685ac096b8d16a75b2">tree</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a42fd14dc2a5b4dd37f3675e8db6be39b">digest_data()</a>.</p>

</div>
</div>
<a id="aec0310fe551a62bbcefba9693f76aab9" name="aec0310fe551a62bbcefba9693f76aab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec0310fe551a62bbcefba9693f76aab9">&#9670;&#160;</a></span>APNode() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APNode::APNode </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  379</span>                          : <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>(<span class="keyword">nullptr</span>), <a class="code hl_variable" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>(<span class="keyword">false</span>), <a class="code hl_variable" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a>(<span class="stringliteral">&quot;password&quot;</span>), <a class="code hl_variable" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>(10), <a class="code hl_variable" href="#ac9b37eb7479f4f685ac096b8d16a75b2">tree</a>(<span class="keywordtype">id</span>), <a class="code hl_variable" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>()  {</div>
<div class="line"><span class="lineno">  380</span>    <a class="code hl_function" href="class_mesh_node.html#af666a6d82e48cbff383d10e93dde8719">set_NodeID</a>(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  381</span>    snprintf(<a class="code hl_variable" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>), <span class="stringliteral">&quot;GatorGrid_Node:%08X&quot;</span>, <a class="code hl_function" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a>());</div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_variable" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>.SPI_init(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  383</span>}</div>
<div class="ttc" id="aclass_mesh_node_html_af666a6d82e48cbff383d10e93dde8719"><div class="ttname"><a href="class_mesh_node.html#af666a6d82e48cbff383d10e93dde8719">MeshNode::set_NodeID</a></div><div class="ttdeci">void set_NodeID(uint32_t ID)</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:401</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, <a class="el" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">MeshNode::get_NodeID()</a>, <a class="el" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>, <a class="el" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a>, <a class="el" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>, <a class="el" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>, <a class="el" href="class_mesh_node.html#af666a6d82e48cbff383d10e93dde8719">MeshNode::set_NodeID()</a>, <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>, and <a class="el" href="#ac9b37eb7479f4f685ac096b8d16a75b2">tree</a>.</p>

</div>
</div>
<a id="a655e0cf00805452b7a8c498b18a0514e" name="a655e0cf00805452b7a8c498b18a0514e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a655e0cf00805452b7a8c498b18a0514e">&#9670;&#160;</a></span>~APNode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">APNode::~APNode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  417</span>               {</div>
<div class="line"><span class="lineno">  418</span>    <span class="comment">// Make sure AP mode is stopped</span></div>
<div class="line"><span class="lineno">  419</span>    <a class="code hl_function" href="#a2d1b86fff1bbfe9baef8704c09fa08b4">stop_ap_mode</a>();</div>
<div class="line"><span class="lineno">  420</span>    </div>
<div class="line"><span class="lineno">  421</span>    <span class="comment">// Free the state if it exists</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>) {</div>
<div class="line"><span class="lineno">  423</span>        free(<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>);</div>
<div class="line"><span class="lineno">  424</span>        <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  425</span>    }</div>
<div class="line"><span class="lineno">  426</span>    </div>
<div class="line"><span class="lineno">  427</span>    <span class="comment">// Deinitialize the driver</span></div>
<div class="line"><span class="lineno">  428</span>    cyw43_arch_deinit();</div>
<div class="line"><span class="lineno">  429</span>}</div>
<div class="ttc" id="aclass_a_p_node_html_a2d1b86fff1bbfe9baef8704c09fa08b4"><div class="ttname"><a href="#a2d1b86fff1bbfe9baef8704c09fa08b4">APNode::stop_ap_mode</a></div><div class="ttdeci">void stop_ap_mode()</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:486</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>, and <a class="el" href="#a2d1b86fff1bbfe9baef8704c09fa08b4">stop_ap_mode()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac150d8ef94717187c4196be4032146dd" name="ac150d8ef94717187c4196be4032146dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac150d8ef94717187c4196be4032146dd">&#9670;&#160;</a></span>check_all_client_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::check_all_client_data </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">References <a class="el" href="#a42fd14dc2a5b4dd37f3675e8db6be39b">digest_data()</a>.</p>

</div>
</div>
<a id="a42fd14dc2a5b4dd37f3675e8db6be39b" name="a42fd14dc2a5b4dd37f3675e8db6be39b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42fd14dc2a5b4dd37f3675e8db6be39b">&#9670;&#160;</a></span>digest_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structdata.html">data</a> APNode::digest_data </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  385</span>                                {</div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">return</span> this-&gt;<a class="code hl_variable" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>.digest();</div>
<div class="line"><span class="lineno">  387</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#a42fd14dc2a5b4dd37f3675e8db6be39b">digest_data()</a>, and <a class="el" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>.</p>

<p class="reference">Referenced by <a class="el" href="#ac150d8ef94717187c4196be4032146dd">check_all_client_data()</a>, <a class="el" href="#a42fd14dc2a5b4dd37f3675e8db6be39b">digest_data()</a>, and <a class="el" href="_a_p___test_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a>.</p>

</div>
</div>
<a id="a1a14af1710426ee6a9d097cd8c28f87f" name="a1a14af1710426ee6a9d097cd8c28f87f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a14af1710426ee6a9d097cd8c28f87f">&#9670;&#160;</a></span>get_client_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * APNode::get_client_data </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ID</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a901319e21366b2ce2bf8ac779a2bf71d" name="a901319e21366b2ce2bf8ac779a2bf71d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a901319e21366b2ce2bf8ac779a2bf71d">&#9670;&#160;</a></span>get_node_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int APNode::get_node_id </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  407</span>                       {</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a>();</div>
<div class="line"><span class="lineno">  409</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">MeshNode::get_NodeID()</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a>, and <a class="el" href="#a0baffab88dae0ef512726601ee2de82c">start_ap_mode()</a>.</p>

</div>
</div>
<a id="a83d69a5b41d1614d64735de23ac6d6b1" name="a83d69a5b41d1614d64735de23ac6d6b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d69a5b41d1614d64735de23ac6d6b1">&#9670;&#160;</a></span>handle_incoming_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::handle_incoming_data </td>
          <td>(</td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tcp_pcb *</td>          <td class="paramname"><span class="paramname"><em>tpcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct pbuf *</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  607</span>                                                                                      {</div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordtype">bool</span> ACK_flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordtype">bool</span> NAK_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordtype">bool</span> update_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  611</span>    <span class="comment">// tcp_init_msg_t *init_msg_str = reinterpret_cast &lt;tcp_init_msg_t *&gt;(state-&gt;buffer_recv);</span></div>
<div class="line"><span class="lineno">  612</span>    <span class="comment">// clients_map[tpcb].id = init_msg_str-&gt;source;</span></div>
<div class="line"><span class="lineno">  613</span>    <span class="comment">// printf(&quot;ID RECV FROM INIT MESSAGE: %08X\n&quot;, clients_map[tpcb].id);</span></div>
<div class="line"><span class="lineno">  614</span>    <span class="comment">// uint32_t test = ((APNode*)(state-&gt;ap_node))-&gt;get_NodeID();</span></div>
<div class="line"><span class="lineno">  615</span>    <span class="comment">// printf(&quot;CURRENT NODE ID: %08X\n&quot;, test);</span></div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>    <span class="comment">// TCP_INIT_MESSAGE init_msg(((APNode*)(state-&gt;ap_node))-&gt;get_NodeID());  </span></div>
<div class="line"><span class="lineno">  618</span>    TCP_MESSAGE* msg = <a class="code hl_function" href="_messages_8cpp.html#af38d02b60aa8d13a179c24ca5d9ad8d1">parseMessage</a>(<span class="keyword">reinterpret_cast &lt;</span>uint8_t *<span class="keyword">&gt;</span>(<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;buffer_recv));</div>
<div class="line"><span class="lineno">  619</span>    uint8_t msg_id = 0xFF;</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">if</span> (!msg) {</div>
<div class="line"><span class="lineno">  622</span>        printf(<span class="stringliteral">&quot;Error: Unable to parse message (invalid buffer or unknown msg_id).\n&quot;</span>);</div>
<div class="line"><span class="lineno">  623</span>        ACK_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  624</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>        <span class="comment">// TODO: Handle error checks for messages</span></div>
<div class="line"><span class="lineno">  627</span>        msg_id = buffer[1];</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>        <span class="comment">//DUMP_BYTES(state-&gt;buffer_recv, 2048);</span></div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>        <span class="keywordflow">switch</span> (msg_id) {</div>
<div class="line"><span class="lineno">  632</span>            <span class="keywordflow">case</span> 0x00: {</div>
<div class="line"><span class="lineno">  633</span>                TCP_INIT_MESSAGE* initMsg = <span class="keyword">static_cast&lt;</span>TCP_INIT_MESSAGE*<span class="keyword">&gt;</span>(msg);</div>
<div class="line"><span class="lineno">  634</span>                printf(<span class="stringliteral">&quot;Received initialization message from node %u&quot;</span>, initMsg-&gt;<a class="code hl_variable" href="class_t_c_p___i_n_i_t___m_e_s_s_a_g_e.html#a28eda401f8e48a36fc80e90f03b7dbc3">msg</a>.source);</div>
<div class="line"><span class="lineno">  635</span>                <span class="comment">//does stuff</span></div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>                <span class="comment">// Set init node ID</span></div>
<div class="line"><span class="lineno">  638</span>                <span class="keywordflow">if</span>(<a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].id_recved == <span class="keyword">false</span>) {</div>
<div class="line"><span class="lineno">  639</span>                    ACK_flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  640</span>                    <a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].id_recved = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  641</span>                    <a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].id = initMsg-&gt;<a class="code hl_variable" href="class_t_c_p___i_n_i_t___m_e_s_s_a_g_e.html#a28eda401f8e48a36fc80e90f03b7dbc3">msg</a>.source;</div>
<div class="line"><span class="lineno">  642</span>                }</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>                <a class="code hl_variable" href="#ac9b37eb7479f4f685ac096b8d16a75b2">tree</a>.add_child(initMsg-&gt;<a class="code hl_variable" href="class_t_c_p___i_n_i_t___m_e_s_s_a_g_e.html#a28eda401f8e48a36fc80e90f03b7dbc3">msg</a>.source);</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>                <span class="comment">// Insert into map of IDs to TPCB</span></div>
<div class="line"><span class="lineno">  647</span>                <a class="code hl_variable" href="#aa1010007862435c32e7b1d207225333c">client_tpcbs</a>.insert({<a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].id, tpcb});</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span>                update_flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  650</span>                </div>
<div class="line"><span class="lineno">  651</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  652</span>            }</div>
<div class="line"><span class="lineno">  653</span>            <span class="keywordflow">case</span> 0x01: {</div>
<div class="line"><span class="lineno">  654</span>                TCP_DATA_MSG* dataMsg = <span class="keyword">static_cast&lt;</span>TCP_DATA_MSG*<span class="keyword">&gt;</span>(msg);</div>
<div class="line"><span class="lineno">  655</span>                <span class="comment">// Store messages in a ring buffer</span></div>
<div class="line"><span class="lineno">  656</span>                puts(<span class="stringliteral">&quot;Got data message&quot;</span>);</div>
<div class="line"><span class="lineno">  657</span>                printf(<span class="stringliteral">&quot;Testing dataMsg, len:%u, source:%08x, dest:%08x\n&quot;</span>,dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.msg_len, dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.source, dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.dest);</div>
<div class="line"><span class="lineno">  658</span>                <span class="keywordflow">if</span> (dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.dest == <a class="code hl_function" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a>()) {</div>
<div class="line"><span class="lineno">  659</span>                    <a class="code hl_variable" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>.insert(dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.msg,dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.msg_len, dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.source, dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.dest);</div>
<div class="line"><span class="lineno">  660</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  661</span>                    <span class="comment">//uint32_t dest;</span></div>
<div class="line"><span class="lineno">  662</span>                    printf(<span class="stringliteral">&quot;Message was not for me, was for dest:%08x\n&quot;</span>, dataMsg-&gt;<a class="code hl_variable" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">msg</a>.dest);</div>
<div class="line"><span class="lineno">  663</span>                    <span class="comment">/*if(!tree.find_path_parent(dataMsg-&gt;msg.dest, &amp;dest)) {</span></div>
<div class="line"><span class="lineno">  664</span><span class="comment">                        ACK_flag = false;</span></div>
<div class="line"><span class="lineno">  665</span><span class="comment">                        NAK_flag = true;</span></div>
<div class="line"><span class="lineno">  666</span><span class="comment">                        break;</span></div>
<div class="line"><span class="lineno">  667</span><span class="comment">                    }*/</span></div>
<div class="line"><span class="lineno">  668</span>                }</div>
<div class="line"><span class="lineno">  669</span>                printf(<span class="stringliteral">&quot;Successfully inserted into ring buffer\n&quot;</span>);</div>
<div class="line"><span class="lineno">  670</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  671</span>            }</div>
<div class="line"><span class="lineno">  672</span>            <span class="keywordflow">case</span> 0x02: {</div>
<div class="line"><span class="lineno">  673</span>                TCP_DISCONNECT_MSG* discMsg = <span class="keyword">static_cast&lt;</span>TCP_DISCONNECT_MSG*<span class="keyword">&gt;</span>(msg);</div>
<div class="line"><span class="lineno">  674</span>                <span class="comment">//does stuff</span></div>
<div class="line"><span class="lineno">  675</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  676</span>            }</div>
<div class="line"><span class="lineno">  677</span>            <span class="keywordflow">case</span> 0x03: {</div>
<div class="line"><span class="lineno">  678</span>                TCP_UPDATE_MESSAGE* updMsg = <span class="keyword">static_cast&lt;</span>TCP_UPDATE_MESSAGE*<span class="keyword">&gt;</span>(msg);</div>
<div class="line"><span class="lineno">  679</span>                <span class="comment">//does stuff</span></div>
<div class="line"><span class="lineno">  680</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  681</span>            }</div>
<div class="line"><span class="lineno">  682</span>            <span class="keywordflow">case</span> 0x04: {</div>
<div class="line"><span class="lineno">  683</span>                TCP_ACK_MESSAGE* ackMsg = <span class="keyword">static_cast&lt;</span>TCP_ACK_MESSAGE*<span class="keyword">&gt;</span>(msg);</div>
<div class="line"><span class="lineno">  684</span>                <span class="comment">//does stuff</span></div>
<div class="line"><span class="lineno">  685</span>                <span class="comment">// Do not need to respond to acks</span></div>
<div class="line"><span class="lineno">  686</span>                ACK_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  690</span>            }</div>
<div class="line"><span class="lineno">  691</span>            <span class="keywordflow">case</span> 0x05: {</div>
<div class="line"><span class="lineno">  692</span>                TCP_NAK_MESSAGE* nakMsg = <span class="keyword">static_cast&lt;</span>TCP_NAK_MESSAGE*<span class="keyword">&gt;</span>(msg);</div>
<div class="line"><span class="lineno">  693</span>                <span class="comment">//does stuff</span></div>
<div class="line"><span class="lineno">  694</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  695</span>            }</div>
<div class="line"><span class="lineno">  696</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  697</span>                printf(<span class="stringliteral">&quot;Error: Unable to parse message (invalid buffer or unknown msg_id).\n&quot;</span>);</div>
<div class="line"><span class="lineno">  698</span>                ACK_flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  699</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  700</span>        }</div>
<div class="line"><span class="lineno">  701</span>    }</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    <span class="keywordflow">if</span> (update_flag) {</div>
<div class="line"><span class="lineno">  704</span>        puts(<span class="stringliteral">&quot;Broadcasting all connected nodes to each other&quot;</span>);</div>
<div class="line"><span class="lineno">  705</span>        uint32_t ids[4] = {0};</div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordtype">int</span> j = 0;</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>        <span class="comment">// Because this is a new node, resend the list of connected nodes to everyone</span></div>
<div class="line"><span class="lineno">  709</span>        <span class="keywordflow">for</span>(<span class="keyword">auto</span> i : <a class="code hl_variable" href="#aa1010007862435c32e7b1d207225333c">client_tpcbs</a>) {</div>
<div class="line"><span class="lineno">  710</span>            ids[j] = i.first;</div>
<div class="line"><span class="lineno">  711</span>            j++;</div>
<div class="line"><span class="lineno">  712</span>        }</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>        <span class="comment">//TCP_UPDATE_MESSAGE TCP_UPDATE_MESSAGE()</span></div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>        <span class="comment">//TCP_ACK_MESSAGE ackMsg(get_NodeID(), clients_map[tpcb].id, p-&gt;tot_len);</span></div>
<div class="line"><span class="lineno">  717</span>        <span class="comment">//send_tcp_data(clients_map[tpcb].id, tpcb, ackMsg.get_msg(), ackMsg.get_len());</span></div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>    }</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>    <span class="keywordflow">if</span> (ACK_flag){</div>
<div class="line"><span class="lineno">  724</span>        <span class="comment">// Assumption: clients_map[tpcb].id implies that any message worth acking isn&#39;t being forwarded and is originating from the intended node</span></div>
<div class="line"><span class="lineno">  725</span>        TCP_ACK_MESSAGE ackMsg(<a class="code hl_function" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a>(), <a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].<span class="keywordtype">id</span>, p-&gt;tot_len);</div>
<div class="line"><span class="lineno">  726</span>        <a class="code hl_function" href="#a33de1a7fccff55203c1f2b92a7fe24e4">send_tcp_data</a>(<a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].<span class="keywordtype">id</span>, tpcb, ackMsg.get_msg(), ackMsg.get_len());</div>
<div class="line"><span class="lineno">  727</span>        <span class="comment">//send_tcp_data(ackMsg.get_msg(), ackMsg.get_len());</span></div>
<div class="line"><span class="lineno">  728</span>        printf(<span class="stringliteral">&quot;Sent ACK message to client %u&quot;</span>, <a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  729</span>        </div>
<div class="line"><span class="lineno">  730</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (NAK_flag) {</div>
<div class="line"><span class="lineno">  731</span>        <span class="comment">// TODO: Update for error handling</span></div>
<div class="line"><span class="lineno">  732</span>        <span class="comment">// identify the source from clients_map and send back?</span></div>
<div class="line"><span class="lineno">  733</span>        TCP_NAK_MESSAGE nakMsg(<a class="code hl_function" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">get_NodeID</a>(), <a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].<span class="keywordtype">id</span>, p-&gt;tot_len);</div>
<div class="line"><span class="lineno">  734</span>        <a class="code hl_function" href="#a33de1a7fccff55203c1f2b92a7fe24e4">send_tcp_data</a>(<a class="code hl_variable" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>[tpcb].<span class="keywordtype">id</span>, tpcb, nakMsg.get_msg(), nakMsg.get_len());</div>
<div class="line"><span class="lineno">  735</span>        <span class="comment">//send_tcp_data(nakMsg.get_msg(), nakMsg.get_len());</span></div>
<div class="line"><span class="lineno">  736</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  737</span>    } </div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>    <span class="keyword">delete</span> msg;</div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  741</span>}</div>
<div class="ttc" id="a_mesh_node_a_p_8cpp_html_a94a45b38b5c69f0fa3c2906cc6edc264"><div class="ttname"><a href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a></div><div class="ttdeci">std::map&lt; tcp_pcb *, ClientConnection &gt; clients_map</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:78</div></div>
<div class="ttc" id="a_messages_8cpp_html_af38d02b60aa8d13a179c24ca5d9ad8d1"><div class="ttname"><a href="_messages_8cpp.html#af38d02b60aa8d13a179c24ca5d9ad8d1">parseMessage</a></div><div class="ttdeci">TCP_MESSAGE * parseMessage(uint8_t *data)</div><div class="ttdoc">Takes in some tcp message buffer and returns a pointer to a new TCP_MESSAGE.</div><div class="ttdef"><b>Definition</b> Messages.cpp:7</div></div>
<div class="ttc" id="aclass_a_p_node_html_a33de1a7fccff55203c1f2b92a7fe24e4"><div class="ttname"><a href="#a33de1a7fccff55203c1f2b92a7fe24e4">APNode::send_tcp_data</a></div><div class="ttdeci">bool send_tcp_data(uint32_t id, tcp_pcb *client_pcb, uint8_t *data, uint32_t size)</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:572</div></div>
<div class="ttc" id="aclass_a_p_node_html_aa1010007862435c32e7b1d207225333c"><div class="ttname"><a href="#aa1010007862435c32e7b1d207225333c">APNode::client_tpcbs</a></div><div class="ttdeci">std::map&lt; uint32_t, tcp_pcb * &gt; client_tpcbs</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:82</div></div>
<div class="ttc" id="aclass_t_c_p___d_a_t_a___m_s_g_html_a69e49fb8a039fd284a2457da25d22494"><div class="ttname"><a href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">TCP_DATA_MSG::msg</a></div><div class="ttdeci">tcp_data_msg_t msg</div><div class="ttdef"><b>Definition</b> Messages.hpp:108</div></div>
<div class="ttc" id="aclass_t_c_p___i_n_i_t___m_e_s_s_a_g_e_html_a28eda401f8e48a36fc80e90f03b7dbc3"><div class="ttname"><a href="class_t_c_p___i_n_i_t___m_e_s_s_a_g_e.html#a28eda401f8e48a36fc80e90f03b7dbc3">TCP_INIT_MESSAGE::msg</a></div><div class="ttdeci">tcp_init_msg_t msg</div><div class="ttdef"><b>Definition</b> Messages.hpp:84</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#aa1010007862435c32e7b1d207225333c">client_tpcbs</a>, <a class="el" href="_mesh_node_a_p_8cpp.html#a94a45b38b5c69f0fa3c2906cc6edc264">clients_map</a>, <a class="el" href="class_t_c_p___a_c_k___m_e_s_s_a_g_e.html#ab4e638ec61a065068e508fc2b90cb030">TCP_ACK_MESSAGE::get_len()</a>, <a class="el" href="class_t_c_p___n_a_k___m_e_s_s_a_g_e.html#a6746520a94996327fdab3dca47e9f16f">TCP_NAK_MESSAGE::get_len()</a>, <a class="el" href="class_t_c_p___a_c_k___m_e_s_s_a_g_e.html#ab05ca4215448fbff136ab1f3350f5a17">TCP_ACK_MESSAGE::get_msg()</a>, <a class="el" href="class_t_c_p___n_a_k___m_e_s_s_a_g_e.html#a20f5c9b1cab26158a334330e5bd6853b">TCP_NAK_MESSAGE::get_msg()</a>, <a class="el" href="class_mesh_node.html#adc8f29a44d7baf4a56ca6f20cec861e8">MeshNode::get_NodeID()</a>, <a class="el" href="class_t_c_p___d_a_t_a___m_s_g.html#a69e49fb8a039fd284a2457da25d22494">TCP_DATA_MSG::msg</a>, <a class="el" href="class_t_c_p___i_n_i_t___m_e_s_s_a_g_e.html#a28eda401f8e48a36fc80e90f03b7dbc3">TCP_INIT_MESSAGE::msg</a>, <a class="el" href="_messages_8cpp.html#af38d02b60aa8d13a179c24ca5d9ad8d1">parseMessage()</a>, <a class="el" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>, <a class="el" href="#a33de1a7fccff55203c1f2b92a7fe24e4">send_tcp_data()</a>, <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>, and <a class="el" href="#ac9b37eb7479f4f685ac096b8d16a75b2">tree</a>.</p>

<p class="reference">Referenced by <a class="el" href="_mesh_node_a_p_8cpp.html#aeec1738f732fee7feac27d72efee0fa2">tcp_server_recv()</a>.</p>

</div>
</div>
<a id="af1c02af9da183625721288410c565f66" name="af1c02af9da183625721288410c565f66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1c02af9da183625721288410c565f66">&#9670;&#160;</a></span>has_client_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::has_client_data </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ID</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a18d893cc18ed0b777328f2206b5e2219" name="a18d893cc18ed0b777328f2206b5e2219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18d893cc18ed0b777328f2206b5e2219">&#9670;&#160;</a></span>init_ap_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::init_ap_mode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  431</span>                          {</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    <span class="comment">// Allocate the state of the TCP server if not already allocated</span></div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>) {</div>
<div class="line"><span class="lineno">  435</span>        <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a> = (<a class="code hl_typedef" href="_mesh_node_8hpp.html#af7f4e975a84bf5ac14987f38c5a0bd49">TCP_SERVER_T</a>*)calloc(1, <span class="keyword">sizeof</span>(<a class="code hl_typedef" href="_mesh_node_8hpp.html#af7f4e975a84bf5ac14987f38c5a0bd49">TCP_SERVER_T</a>));</div>
<div class="line"><span class="lineno">  436</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>) {</div>
<div class="line"><span class="lineno">  437</span>            <a class="code hl_define" href="dnsserver_8c.html#ac89417d7938b9539c92a9ad3c36b5dd3">DEBUG_printf</a>(<span class="stringliteral">&quot;failed to allocate state\n&quot;</span>);</div>
<div class="line"><span class="lineno">  438</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  439</span>        }</div>
<div class="line"><span class="lineno">  440</span>    }</div>
<div class="line"><span class="lineno">  441</span>    </div>
<div class="line"><span class="lineno">  442</span>    <span class="comment">// Initialize the state</span></div>
<div class="line"><span class="lineno">  443</span>    <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;complete = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  444</span>    <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;server_pcb = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  445</span>    <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;ap_node = <span class="keyword">this</span>;</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span>    <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;recv_len = 0;</div>
<div class="line"><span class="lineno">  448</span>    </div>
<div class="line"><span class="lineno">  449</span>    <span class="comment">// Initialize the driver</span></div>
<div class="line"><span class="lineno">  450</span>    <span class="keywordflow">if</span> (cyw43_arch_init()) {</div>
<div class="line"><span class="lineno">  451</span>        <a class="code hl_define" href="dnsserver_8c.html#ac89417d7938b9539c92a9ad3c36b5dd3">DEBUG_printf</a>(<span class="stringliteral">&quot;failed to initialize cyw43 driver\n&quot;</span>);</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  453</span>    }</div>
<div class="line"><span class="lineno">  454</span>    </div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  456</span>}</div>
<div class="ttc" id="a_mesh_node_8hpp_html_af7f4e975a84bf5ac14987f38c5a0bd49"><div class="ttname"><a href="_mesh_node_8hpp.html#af7f4e975a84bf5ac14987f38c5a0bd49">TCP_SERVER_T</a></div><div class="ttdeci">struct TCP_SERVER_T_ TCP_SERVER_T</div><div class="ttdef"><b>Definition</b> MeshNode.hpp:46</div></div>
<div class="ttc" id="adnsserver_8c_html_ac89417d7938b9539c92a9ad3c36b5dd3"><div class="ttname"><a href="dnsserver_8c.html#ac89417d7938b9539c92a9ad3c36b5dd3">DEBUG_printf</a></div><div class="ttdeci">#define DEBUG_printf(...)</div><div class="ttdef"><b>Definition</b> dnsserver.c:19</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="dnsserver_8c.html#ac89417d7938b9539c92a9ad3c36b5dd3">DEBUG_printf</a>, and <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a>.</p>

</div>
</div>
<a id="a1eb8b7163387b293008b3903cc651c90" name="a1eb8b7163387b293008b3903cc651c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eb8b7163387b293008b3903cc651c90">&#9670;&#160;</a></span>number_of_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int APNode::number_of_messages </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  389</span>                               {</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">return</span> this-&gt;<a class="code hl_variable" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>.get_size();</div>
<div class="line"><span class="lineno">  391</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a76a4d88449c2a5ab205ab8eff9d73cec">rb</a>.</p>

<p class="reference">Referenced by <a class="el" href="_a_p___test_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a>.</p>

</div>
</div>
<a id="aeb770e3913b5027d76771517446dcce0" name="aeb770e3913b5027d76771517446dcce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb770e3913b5027d76771517446dcce0">&#9670;&#160;</a></span>poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APNode::poll </td>
          <td>(</td>
          <td class="paramtype">unsigned int</td>          <td class="paramname"><span class="paramname"><em>timeout_ms</em></span><span class="paramdefsep"> = </span><span class="paramdefval">1000</span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  463</span>                                         {</div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a> || !<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>) {</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  466</span>    }</div>
<div class="line"><span class="lineno">  467</span>    </div>
<div class="line"><span class="lineno">  468</span>    <span class="comment">// Check if we should stop</span></div>
<div class="line"><span class="lineno">  469</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;complete) {</div>
<div class="line"><span class="lineno">  470</span>        <a class="code hl_variable" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  472</span>    }</div>
<div class="line"><span class="lineno">  473</span>    </div>
<div class="line"><span class="lineno">  474</span>    <span class="comment">// Handle polling operations based on the architecture</span></div>
<div class="line"><span class="lineno">  475</span><span class="preprocessor">    #if PICO_CYW43_ARCH_POLL</span></div>
<div class="line"><span class="lineno">  476</span>    <span class="comment">// If using poll architecture, check for work</span></div>
<div class="line"><span class="lineno">  477</span>    cyw43_arch_poll();</div>
<div class="line"><span class="lineno">  478</span>    <span class="comment">// Wait for work or timeout</span></div>
<div class="line"><span class="lineno">  479</span>    cyw43_arch_wait_for_work_until(make_timeout_time_ms(timeout_ms));</div>
<div class="line"><span class="lineno">  480</span><span class="preprocessor">    #else</span></div>
<div class="line"><span class="lineno">  481</span>    <span class="comment">// If using interrupt architecture, just sleep</span></div>
<div class="line"><span class="lineno">  482</span>    sleep_ms(timeout_ms);</div>
<div class="line"><span class="lineno">  483</span><span class="preprocessor">    #endif</span></div>
<div class="line"><span class="lineno">  484</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>, and <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>.</p>

</div>
</div>
<a id="a33de1a7fccff55203c1f2b92a7fe24e4" name="a33de1a7fccff55203c1f2b92a7fe24e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33de1a7fccff55203c1f2b92a7fe24e4">&#9670;&#160;</a></span>send_tcp_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::send_tcp_data </td>
          <td>(</td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tcp_pcb *</td>          <td class="paramname"><span class="paramname"><em>client_pcb</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  572</span>                                                                                         {</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    uint8_t buffer[size] = {};</div>
<div class="line"><span class="lineno">  575</span>    <span class="comment">// if (size &gt; BUF_SIZE) { size = BUF_SIZE; }</span></div>
<div class="line"><span class="lineno">  576</span>    memcpy(buffer, data, size);</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>    <span class="keywordtype">bool</span> flag = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    cyw43_arch_lwip_begin();</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    <span class="comment">// not entirely sure its supposed to be client_pcb</span></div>
<div class="line"><span class="lineno">  583</span>    </div>
<div class="line"><span class="lineno">  584</span>    <span class="comment">//err_t err = tcp_write(state-&gt;client_pcb, (void*)buffer, size, TCP_WRITE_FLAG_COPY);</span></div>
<div class="line"><span class="lineno">  585</span>    <span class="comment">//err_t err2 = tcp_output(state-&gt;client_pcb);</span></div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>    err_t err = tcp_write(client_pcb, (<span class="keywordtype">void</span>*)buffer, size, TCP_WRITE_FLAG_COPY);</div>
<div class="line"><span class="lineno">  588</span>    err_t err2 = tcp_output(client_pcb);</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">if</span> (err != ERR_OK) {</div>
<div class="line"><span class="lineno">  591</span>        printf(<span class="stringliteral">&quot;Message failed to write\n&quot;</span>);</div>
<div class="line"><span class="lineno">  592</span>        printf(<span class="stringliteral">&quot;ERR: %d\n&quot;</span>, err);</div>
<div class="line"><span class="lineno">  593</span>        flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  594</span>    }</div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">if</span> (err2 != ERR_OK) {</div>
<div class="line"><span class="lineno">  596</span>        printf(<span class="stringliteral">&quot;Message failed to be sent\n&quot;</span>);</div>
<div class="line"><span class="lineno">  597</span>        flag = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  598</span>    }</div>
<div class="line"><span class="lineno">  599</span>    cyw43_arch_lwip_end();</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">if</span> (flag)</div>
<div class="line"><span class="lineno">  601</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  602</span>    printf(<span class="stringliteral">&quot;Successfully queued message\n&quot;</span>);</div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  604</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="#a83d69a5b41d1614d64735de23ac6d6b1">handle_incoming_data()</a>.</p>

</div>
</div>
<a id="aa02e0b6dcbc9a8f06c769c4277f30482" name="aa02e0b6dcbc9a8f06c769c4277f30482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa02e0b6dcbc9a8f06c769c4277f30482">&#9670;&#160;</a></span>server_running()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::server_running </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  341</span>                            {</div>
<div class="line"><span class="lineno">  342</span>    <span class="keywordflow">return</span> !this-&gt;<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;complete;</div>
<div class="line"><span class="lineno">  343</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a>.</p>

</div>
</div>
<a id="a818d713e7937e58df4a0aa1366e63da0" name="a818d713e7937e58df4a0aa1366e63da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a818d713e7937e58df4a0aa1366e63da0">&#9670;&#160;</a></span>server_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APNode::server_start </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  555</span>                          {</div>
<div class="line"><span class="lineno">  556</span>    <a class="code hl_function" href="_mesh_node_a_p_8cpp.html#a012bff17b060f420fb99523abed970b0">run_tcp_server</a>(<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>);</div>
<div class="line"><span class="lineno">  557</span>}</div>
<div class="ttc" id="a_mesh_node_a_p_8cpp_html_a012bff17b060f420fb99523abed970b0"><div class="ttname"><a href="_mesh_node_a_p_8cpp.html#a012bff17b060f420fb99523abed970b0">run_tcp_server</a></div><div class="ttdeci">void run_tcp_server(void *arg)</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:345</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_mesh_node_a_p_8cpp.html#a012bff17b060f420fb99523abed970b0">run_tcp_server()</a>, and <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a>.</p>

</div>
</div>
<a id="ac8e48a111bea8c9f01f592892256ec0f" name="ac8e48a111bea8c9f01f592892256ec0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8e48a111bea8c9f01f592892256ec0f">&#9670;&#160;</a></span>set_ap_credentials()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APNode::set_ap_credentials </td>
          <td>(</td>
          <td class="paramtype">char</td>          <td class="paramname"><span class="paramname"><em>name</em></span>[32], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>pwd</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  458</span>                                                              {</div>
<div class="line"><span class="lineno">  459</span>    memcpy(<a class="code hl_variable" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, name, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>));</div>
<div class="line"><span class="lineno">  460</span>    <a class="code hl_variable" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a> = pwd;</div>
<div class="line"><span class="lineno">  461</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, and <a class="el" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a>.</p>

</div>
</div>
<a id="ab5a41cb6892721ffd8543d5bef39150e" name="ab5a41cb6892721ffd8543d5bef39150e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5a41cb6892721ffd8543d5bef39150e">&#9670;&#160;</a></span>set_node_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APNode::set_node_id </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>ID</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  395</span>                              {</div>
<div class="line"><span class="lineno">  396</span>    <span class="comment">// calls the base class function</span></div>
<div class="line"><span class="lineno">  397</span>    <a class="code hl_function" href="class_mesh_node.html#af666a6d82e48cbff383d10e93dde8719">set_NodeID</a>(ID);</div>
<div class="line"><span class="lineno">  398</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="class_mesh_node.html#af666a6d82e48cbff383d10e93dde8719">MeshNode::set_NodeID()</a>.</p>

</div>
</div>
<a id="a0baffab88dae0ef512726601ee2de82c" name="a0baffab88dae0ef512726601ee2de82c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0baffab88dae0ef512726601ee2de82c">&#9670;&#160;</a></span>start_ap_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::start_ap_mode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  504</span>                           {</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>    <span class="comment">// Delay to ensure the masters starts after the slave</span></div>
<div class="line"><span class="lineno">  507</span>    sleep_ms(2000);</div>
<div class="line"><span class="lineno">  508</span>    <a class="code hl_variable" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>.SPI_init(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>    <span class="comment">// Enable the AP mode on the driver</span></div>
<div class="line"><span class="lineno">  511</span>    cyw43_arch_enable_ap_mode(<a class="code hl_variable" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, <a class="code hl_variable" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a>, CYW43_AUTH_WPA2_AES_PSK);</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>    <span class="comment">//state = tcp_server_init();</span></div>
<div class="line"><span class="lineno">  514</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>) {</div>
<div class="line"><span class="lineno">  515</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  516</span>    }</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span><span class="preprocessor">    #if LWIP_IPV6</span></div>
<div class="line"><span class="lineno">  519</span><span class="preprocessor">     #define IP(x) ((x).u_addr.ip4)</span></div>
<div class="line"><span class="lineno">  520</span><span class="preprocessor">     #else</span></div>
<div class="line"><span class="lineno">  521</span><span class="preprocessor">     #define IP(x) (x)</span></div>
<div class="line"><span class="lineno">  522</span><span class="preprocessor">     #endif</span></div>
<div class="line"><span class="lineno">  523</span> \</div>
<div class="line"><span class="lineno">  524</span>     ip4_addr_t mask;</div>
<div class="line"><span class="lineno">  525</span>     <a class="code hl_define" href="_mesh_node_a_p_8cpp.html#ab1e9ec157fb9c086690a2ad3f1a5b172">IP</a>(<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;gw).addr = PP_HTONL(CYW43_DEFAULT_IP_AP_ADDRESS);</div>
<div class="line"><span class="lineno">  526</span>     <a class="code hl_define" href="_mesh_node_a_p_8cpp.html#ab1e9ec157fb9c086690a2ad3f1a5b172">IP</a>(mask).addr = PP_HTONL(CYW43_DEFAULT_IP_MASK);</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span><span class="preprocessor">     #undef IP</span></div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <span class="comment">// Start the DHCP server</span></div>
<div class="line"><span class="lineno">  531</span>    <span class="comment">//dhcp_server_t dhcp_server;</span></div>
<div class="line"><span class="lineno">  532</span>    <a class="code hl_function" href="dhcpserver_8c.html#a3930af518fd87ebe481a23453ae92512">dhcp_server_init</a>(&amp;<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;dhcp_server, &amp;<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;gw, &amp;mask);</div>
<div class="line"><span class="lineno">  533</span>    <span class="comment">//dns_server_init(&amp;state-&gt;dns_server, &amp;state-&gt;gw);</span></div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    <span class="comment">// if (!tcp_server_open(state)) {</span></div>
<div class="line"><span class="lineno">  536</span>    <span class="comment">//     DEBUG_printf(&quot;failed to open server\n&quot;);</span></div>
<div class="line"><span class="lineno">  537</span>    <span class="comment">//     return false;</span></div>
<div class="line"><span class="lineno">  538</span>    <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="_mesh_node_a_p_8cpp.html#a01ab1a5940d58c4d231b186df2a50294">tcp_server_open</a>(<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>)) {</div>
<div class="line"><span class="lineno">  540</span>        <a class="code hl_function" href="_mesh_node_a_p_8cpp.html#aa770ff9e047fdd2a26da33220aa9354d">tcp_server_result</a>(<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>, -1);</div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  542</span>    }</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>    <span class="comment">// Send over node ID to STA</span></div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">while</span>(!<a class="code hl_variable" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>.SPI_is_write_available());</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>    uint32_t ID = this-&gt;<a class="code hl_function" href="#a901319e21366b2ce2bf8ac779a2bf71d">get_node_id</a>();</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>    <a class="code hl_variable" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>.SPI_send_message((uint8_t*) &amp;ID, <span class="keyword">sizeof</span>(ID));</div>
<div class="line"><span class="lineno">  550</span>    </div>
<div class="line"><span class="lineno">  551</span>    <a class="code hl_variable" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  553</span>}</div>
<div class="ttc" id="a_mesh_node_a_p_8cpp_html_a01ab1a5940d58c4d231b186df2a50294"><div class="ttname"><a href="_mesh_node_a_p_8cpp.html#a01ab1a5940d58c4d231b186df2a50294">tcp_server_open</a></div><div class="ttdeci">bool tcp_server_open(void *arg)</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:310</div></div>
<div class="ttc" id="a_mesh_node_a_p_8cpp_html_aa770ff9e047fdd2a26da33220aa9354d"><div class="ttname"><a href="_mesh_node_a_p_8cpp.html#aa770ff9e047fdd2a26da33220aa9354d">tcp_server_result</a></div><div class="ttdeci">err_t tcp_server_result(void *arg, int status)</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:135</div></div>
<div class="ttc" id="a_mesh_node_a_p_8cpp_html_ab1e9ec157fb9c086690a2ad3f1a5b172"><div class="ttname"><a href="_mesh_node_a_p_8cpp.html#ab1e9ec157fb9c086690a2ad3f1a5b172">IP</a></div><div class="ttdeci">#define IP(x)</div></div>
<div class="ttc" id="aclass_a_p_node_html_a901319e21366b2ce2bf8ac779a2bf71d"><div class="ttname"><a href="#a901319e21366b2ce2bf8ac779a2bf71d">APNode::get_node_id</a></div><div class="ttdeci">int get_node_id()</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:407</div></div>
<div class="ttc" id="adhcpserver_8c_html_a3930af518fd87ebe481a23453ae92512"><div class="ttname"><a href="dhcpserver_8c.html#a3930af518fd87ebe481a23453ae92512">dhcp_server_init</a></div><div class="ttdeci">void dhcp_server_init(dhcp_server_t *d, ip_addr_t *ip, ip_addr_t *nm)</div><div class="ttdef"><b>Definition</b> dhcpserver.c:297</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#ad1f2d4fd7748e6020201e0305bbe793b">ap_name</a>, <a class="el" href="dhcpserver_8c.html#a3930af518fd87ebe481a23453ae92512">dhcp_server_init()</a>, <a class="el" href="#a901319e21366b2ce2bf8ac779a2bf71d">get_node_id()</a>, <a class="el" href="_mesh_node_a_p_8cpp.html#ab1e9ec157fb9c086690a2ad3f1a5b172">IP</a>, <a class="el" href="#a33f42f6bd11523a7d53d337d84766808">Master_Pico</a>, <a class="el" href="#af24f7284d8a7f02f73b98e20a0ce69d2">password</a>, <a class="el" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>, <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>, <a class="el" href="_mesh_node_a_p_8cpp.html#a01ab1a5940d58c4d231b186df2a50294">tcp_server_open()</a>, and <a class="el" href="_mesh_node_a_p_8cpp.html#aa770ff9e047fdd2a26da33220aa9354d">tcp_server_result()</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a>.</p>

</div>
</div>
<a id="a2d1b86fff1bbfe9baef8704c09fa08b4" name="a2d1b86fff1bbfe9baef8704c09fa08b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1b86fff1bbfe9baef8704c09fa08b4">&#9670;&#160;</a></span>stop_ap_mode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void APNode::stop_ap_mode </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  486</span>                          {</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>) {</div>
<div class="line"><span class="lineno">  488</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  489</span>    }</div>
<div class="line"><span class="lineno">  490</span>    </div>
<div class="line"><span class="lineno">  491</span>    <span class="comment">// Disable the AP mode</span></div>
<div class="line"><span class="lineno">  492</span>    cyw43_arch_lwip_begin();</div>
<div class="line"><span class="lineno">  493</span>    cyw43_arch_disable_ap_mode();</div>
<div class="line"><span class="lineno">  494</span>    cyw43_arch_lwip_end();</div>
<div class="line"><span class="lineno">  495</span>    </div>
<div class="line"><span class="lineno">  496</span>    <span class="comment">// Close the TCP server</span></div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a> &amp;&amp; <a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>-&gt;server_pcb) {</div>
<div class="line"><span class="lineno">  498</span>        <a class="code hl_function" href="_mesh_node_a_p_8cpp.html#a46b9f7a16b75932c3df4c486653eb673">tcp_server_close</a>(<a class="code hl_variable" href="#a88f8012cf5851db724dcef1322829bac">state</a>);</div>
<div class="line"><span class="lineno">  499</span>    }</div>
<div class="line"><span class="lineno">  500</span>    </div>
<div class="line"><span class="lineno">  501</span>    <a class="code hl_variable" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  502</span>}</div>
<div class="ttc" id="a_mesh_node_a_p_8cpp_html_a46b9f7a16b75932c3df4c486653eb673"><div class="ttname"><a href="_mesh_node_a_p_8cpp.html#a46b9f7a16b75932c3df4c486653eb673">tcp_server_close</a></div><div class="ttdeci">err_t tcp_server_close(void *arg)</div><div class="ttdef"><b>Definition</b> MeshNodeAP.cpp:109</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="#a121221cf5fdde7e45b87e81e3ede857d">running</a>, <a class="el" href="#a88f8012cf5851db724dcef1322829bac">state</a>, and <a class="el" href="_mesh_node_a_p_8cpp.html#a46b9f7a16b75932c3df4c486653eb673">tcp_server_close()</a>.</p>

<p class="reference">Referenced by <a class="el" href="#a655e0cf00805452b7a8c498b18a0514e">~APNode()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad1f2d4fd7748e6020201e0305bbe793b" name="ad1f2d4fd7748e6020201e0305bbe793b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1f2d4fd7748e6020201e0305bbe793b">&#9670;&#160;</a></span>ap_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char APNode::ap_name[32]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode()</a>, <a class="el" href="#ac8e48a111bea8c9f01f592892256ec0f">set_ap_credentials()</a>, and <a class="el" href="#a0baffab88dae0ef512726601ee2de82c">start_ap_mode()</a>.</p>

</div>
</div>
<a id="a643de62b25972c425e1e1928964dae90" name="a643de62b25972c425e1e1928964dae90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a643de62b25972c425e1e1928964dae90">&#9670;&#160;</a></span>client_results</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, std::string&gt; APNode::client_results</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1bf36c3de2719acd75a1db2406c615bf" name="a1bf36c3de2719acd75a1db2406c615bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bf36c3de2719acd75a1db2406c615bf">&#9670;&#160;</a></span>client_results_flag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int, bool&gt; APNode::client_results_flag</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1010007862435c32e7b1d207225333c" name="aa1010007862435c32e7b1d207225333c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1010007862435c32e7b1d207225333c">&#9670;&#160;</a></span>client_tpcbs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;uint32_t, tcp_pcb*&gt; APNode::client_tpcbs</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a83d69a5b41d1614d64735de23ac6d6b1">handle_incoming_data()</a>.</p>

</div>
</div>
<a id="a35f6712389c12ce194a03bc77b8ba4d7" name="a35f6712389c12ce194a03bc77b8ba4d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35f6712389c12ce194a03bc77b8ba4d7">&#9670;&#160;</a></span>connections</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;void*&gt; APNode::connections</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a33f42f6bd11523a7d53d337d84766808" name="a33f42f6bd11523a7d53d337d84766808"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33f42f6bd11523a7d53d337d84766808">&#9670;&#160;</a></span>Master_Pico</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_s_p_i.html">SPI</a> APNode::Master_Pico</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode()</a>, and <a class="el" href="#a0baffab88dae0ef512726601ee2de82c">start_ap_mode()</a>.</p>

</div>
</div>
<a id="af24f7284d8a7f02f73b98e20a0ce69d2" name="af24f7284d8a7f02f73b98e20a0ce69d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af24f7284d8a7f02f73b98e20a0ce69d2">&#9670;&#160;</a></span>password</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* APNode::password = &quot;password&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode()</a>, <a class="el" href="#ac8e48a111bea8c9f01f592892256ec0f">set_ap_credentials()</a>, and <a class="el" href="#a0baffab88dae0ef512726601ee2de82c">start_ap_mode()</a>.</p>

</div>
</div>
<a id="a76a4d88449c2a5ab205ab8eff9d73cec" name="a76a4d88449c2a5ab205ab8eff9d73cec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a4d88449c2a5ab205ab8eff9d73cec">&#9670;&#160;</a></span>rb</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_ring_buffer.html">RingBuffer</a> APNode::rb</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode()</a>, <a class="el" href="#a42fd14dc2a5b4dd37f3675e8db6be39b">digest_data()</a>, <a class="el" href="#a83d69a5b41d1614d64735de23ac6d6b1">handle_incoming_data()</a>, and <a class="el" href="#a1eb8b7163387b293008b3903cc651c90">number_of_messages()</a>.</p>

</div>
</div>
<a id="a121221cf5fdde7e45b87e81e3ede857d" name="a121221cf5fdde7e45b87e81e3ede857d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a121221cf5fdde7e45b87e81e3ede857d">&#9670;&#160;</a></span>running</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool APNode::running</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode()</a>, <a class="el" href="#aeb770e3913b5027d76771517446dcce0">poll()</a>, <a class="el" href="#a0baffab88dae0ef512726601ee2de82c">start_ap_mode()</a>, and <a class="el" href="#a2d1b86fff1bbfe9baef8704c09fa08b4">stop_ap_mode()</a>.</p>

</div>
</div>
<a id="a88f8012cf5851db724dcef1322829bac" name="a88f8012cf5851db724dcef1322829bac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88f8012cf5851db724dcef1322829bac">&#9670;&#160;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_mesh_node_8hpp.html#af7f4e975a84bf5ac14987f38c5a0bd49">TCP_SERVER_T</a>* APNode::state</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode()</a>, <a class="el" href="#a83d69a5b41d1614d64735de23ac6d6b1">handle_incoming_data()</a>, <a class="el" href="#a18d893cc18ed0b777328f2206b5e2219">init_ap_mode()</a>, <a class="el" href="#aeb770e3913b5027d76771517446dcce0">poll()</a>, <a class="el" href="#aa02e0b6dcbc9a8f06c769c4277f30482">server_running()</a>, <a class="el" href="#a818d713e7937e58df4a0aa1366e63da0">server_start()</a>, <a class="el" href="#a0baffab88dae0ef512726601ee2de82c">start_ap_mode()</a>, <a class="el" href="#a2d1b86fff1bbfe9baef8704c09fa08b4">stop_ap_mode()</a>, <a class="el" href="_mesh_node_a_p_8cpp.html#a46b9f7a16b75932c3df4c486653eb673">tcp_server_close()</a>, <a class="el" href="_mesh_node_a_p_8cpp.html#aa770ff9e047fdd2a26da33220aa9354d">tcp_server_result()</a>, <a class="el" href="_mesh_node_a_p_8cpp.html#a39f08470b0e7011af49ddea7a3909fc1">tcp_server_send_data()</a>, <a class="el" href="_mesh_node_a_p_8cpp.html#a75c547887c1c279809c0864bfd05671a">tcp_server_sent()</a>, and <a class="el" href="#a655e0cf00805452b7a8c498b18a0514e">~APNode()</a>.</p>

</div>
</div>
<a id="ac9b37eb7479f4f685ac096b8d16a75b2" name="ac9b37eb7479f4f685ac096b8d16a75b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b37eb7479f4f685ac096b8d16a75b2">&#9670;&#160;</a></span>tree</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_children_tree.html">ChildrenTree</a> APNode::tree</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Referenced by <a class="el" href="#a7520e149cbd1fe92ec81254f60e77254">APNode()</a>, <a class="el" href="#aec0310fe551a62bbcefba9693f76aab9">APNode()</a>, and <a class="el" href="#a83d69a5b41d1614d64735de23ac6d6b1">handle_incoming_data()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>libraries/MeshNode/<a class="el" href="_mesh_node_8hpp_source.html">MeshNode.hpp</a></li>
<li>libraries/MeshNode/<a class="el" href="_mesh_node_a_p_8cpp.html">MeshNodeAP.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
